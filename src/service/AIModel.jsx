import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location :}as Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with\nHotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place\nDetails, Place Image Url, Geo Coordinates, ticket Pricing,rating, Time travel each of the location for 3 days with each day plan with best\ntime to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a budget-friendly 3-day Las Vegas itinerary for a couple, along with hotel options and detailed daily plans, all in JSON format:\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n     \"budget\": \"Cheap\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n       \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n       \"price\": \"60-120 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/20/65/b5/2d/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1360,\n        \"longitude\": -115.1658\n        },\n      \"rating\": 3.5,\n       \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms and a variety of entertainment including a theme park.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n       \"price\": \"70-130 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/25/1f/87/6e/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n     \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1743\n      },\n       \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel on the Strip, offering budget-friendly accommodations, a variety of dining options and a lively atmosphere.\"\n    },\n     {\n      \"hotelName\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotelAddress\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n       \"price\": \"50-100 USD per night\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/e1/56/08/oyo-hotel-casino-las-vegas.jpg?w=700&h=-1&s=1\",\n       \"geoCoordinates\": {\n        \"latitude\": 36.1017,\n        \"longitude\": -115.1694\n        },\n       \"rating\": 3.3,\n      \"description\": \"A value-focused option near the heart of the Strip, providing basic rooms and access to a casino, ideal for budget travelers.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n       \"theme\": \"Exploring the Strip & Free Shows\",\n       \"bestTimeToVisit\": \"Afternoon/Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"The Las Vegas Strip\",\n          \"placeDetails\": \"Walk the famous Las Vegas Strip, enjoying the sights, sounds and free attractions. See the Bellagio fountains, walk through themed hotels like Caesars Palace and the Venetian.\",\n           \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Bellagio_Fountains_Las_Vegas.jpg/1280px-Bellagio_Fountains_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.8,\n          \"timeTravel\": \"Walking\"\n        },\n         {\n          \"placeName\": \"Bellagio Fountains\",\n           \"placeDetails\": \"Witness the spectacular water show set to music at the Bellagio fountains. Shows run every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n           \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Bellagio_Fountains_2022_04_01.jpg/1280px-Bellagio_Fountains_2022_04_01.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1127,\n              \"longitude\": -115.1742\n            },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.9,\n          \"timeTravel\": \"Walking (on the Strip)\"\n        },\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Experience the vibrant Fremont Street in Downtown Las Vegas, featuring a light show on a canopy screen and free live music.\",\n           \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Fremont_Street_Experience_night.jpg/1280px-Fremont_Street_Experience_night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1707,\n            \"longitude\": -115.1425\n          },\n          \"ticketPricing\": \"Free\",\n           \"rating\": 4.6,\n          \"timeTravel\": \"15-20 minutes by car/rideshare from the Strip\"\n        }\n      ]\n    },\n    \"day2\": {\n       \"theme\": \"Downtown History & Thrills\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"The Mob Museum\",\n         \"placeDetails\": \"Discover the history of organized crime in America at the Mob Museum, a highly rated historical experience.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Mob_Museum_Entrance.jpg/1280px-Mob_Museum_Entrance.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1699,\n             \"longitude\": -115.1416\n           },\n          \"ticketPricing\": \"29.95 USD per person\",\n            \"rating\": 4.7,\n          \"timeTravel\": \"Walking from Fremont Street\"\n        },\n         {\n          \"placeName\": \"Gold and Silver Pawn Shop\",\n           \"placeDetails\": \"Visit the famous Gold and Silver Pawn Shop from the show 'Pawn Stars,' located in downtown Las Vegas.\",\n            \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e3/Gold_and_Silver_Pawn_Shop.jpg/1280px-Gold_and_Silver_Pawn_Shop.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1629,\n             \"longitude\": -115.1441\n           },\n          \"ticketPricing\": \"Free to visit (purchases optional)\",\n           \"rating\": 4.2,\n          \"timeTravel\": \"5 minutes by car/rideshare from The Mob Museum\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Explore a unique open-air shopping and entertainment center made of shipping containers, featuring dining, shops and a playground.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Downtown_Container_Park_Las_Vegas.jpg/1280px-Downtown_Container_Park_Las_Vegas.jpg\",\n           \"geoCoordinates\": {\n              \"latitude\": 36.1695,\n              \"longitude\": -115.1402\n            },\n           \"ticketPricing\": \"Free (charges for activities and food)\",\n            \"rating\": 4.5,\n          \"timeTravel\": \"Walking from the Mob Museum\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Nature & Views\",\n      \"bestTimeToVisit\": \"Morning/Afternoon\",\n      \"places\": [\n          {\n            \"placeName\": \"Red Rock Canyon National Conservation Area\",\n             \"placeDetails\": \"Take a scenic drive through Red Rock Canyon, enjoying stunning desert landscapes, hiking trails and natural beauty.\",\n              \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a6/Red_Rock_Canyon_-_Nevada_-_panoramic_view.jpg/1280px-Red_Rock_Canyon_-_Nevada_-_panoramic_view.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1321,\n                \"longitude\": -115.4140\n                },\n           \"ticketPricing\": \"15 USD per vehicle\",\n           \"rating\": 4.8,\n            \"timeTravel\": \"20-30 minutes by car/rideshare from the Strip\"\n        },\n       {\n        \"placeName\": \"High Roller Observation Wheel\",\n        \"placeDetails\": \"Experience breathtaking panoramic views of the Las Vegas skyline and surrounding area from the High Roller.\",\n        \"placeImageUrl\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/High_Roller_Las_Vegas.jpg/1280px-High_Roller_Las_Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1699\n             },\n          \"ticketPricing\": \"25-35 USD per person\",\n           \"rating\": 4.6,\n         \"timeTravel\": \"30-40 minutes by car/rideshare from Red Rock Canyon\"\n         }\n      ]\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Prices:** Hotel and ticket prices are estimates and can vary based on the time of year, demand, and specific promotions.\n*   **Transportation:**  The itinerary suggests using walking and rideshare services. Consider using public transportation (buses) for additional savings.\n*   **Food:** Eating off the Strip can be more budget-friendly. Look for local restaurants and consider grocery stores for snacks and breakfast items.\n*   **Flexibility:** This is a suggested itinerary, feel free to customize based on your interests.\n*   **Free Entertainment:** There are many free activities to do in Vegas including the fountain shows, Bellagio Conservatory, wildlife habitats, and walking the Strip.\n\nEnjoy your budget-friendly trip to Las Vegas! Let me know if you have any other questions.\n"},
          ],
        },
      ],
    });
